<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
  <p>Hi Nirup</p>

  <script>
  d3.json("gdpdata.json",function(data){
    var svg = d3.select("body")
      .append("svg")
      .attr("width", 1100)
      .attr("height", 1100)
      .append("g")
     .attr("transform","translate(20,05)");


     var widthscale = d3.scale.linear()
                      .domain([0,9020])
                      .range([0,1100]);

    var colorscale = d3.scale.linear()
                    .domain([0,9020])
                    .range(["red","green","lightblue"]);


    svg.selectAll("rect")
      .data(data)
      .enter()
      .append("rect")
      .attr("width", function (d) { return widthscale(d.gdp);})
      .attr("height", 28)
      .attr("y", function (d,i) { return i * 30; })
      .attr("fill",function (d){return colorscale(d.gdp);});


    svg.selectAll("text")
                   .data(data)
                   .enter()
                   .append("text")
    			   .text(function(d,i){return d.country_name;})
                   .attr("y",function(d,i){return i*30+14;})
                   .attr("fill","white")
    				.attr("font-size",12)
    				.attr("font-weight","bold")
    			    .attr("transform","translate(3,0)")
    				.attr("letter-spacing",0.1);

    var axis=d3.svg.axis()
                .ticks(20)
                .scale(widthscale);
    svg.append("g").call(axis).attr("transform","translate(0,580)");



  </script>


</body>
</html>
